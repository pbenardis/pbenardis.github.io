{{- /*
  Override for theme's color-from-str partial.
  Generates a deterministic hex color from an input string using md5.
  Usage: {{ partial "helper/color-from-str.html" "Some string" }}
*/ -}}
{{- $s := . -}}
{{- if not $s -}}
  {{- return dict "BackgroundColor" "#000000" "TextColor" "#ffffff" -}}
{{- end -}}

{{- /* Fallback: derive a deterministic hex color from md5 to avoid using `hash` function */ -}}
{{- $h := md5 $s -}}
{{- $hex := substr $h 0 6 -}}
{{- $backgroundColor := print "#" $hex -}}
{{- /* simple contrasting choice: default to white text */ -}}
{{- $textColor := "#ffffff" -}}
{{- return dict "BackgroundColor" $backgroundColor "TextColor" $textColor -}}
